module debouncer (
    input  clk,
    input  btn_in,  
    output reg btn_out
);

    parameter COUNT_MAX = 1_000_000; // 20ms a 50MHz

    reg [19:0] count = 0;
    reg btn_prev = 0;

    always @(posedge clk) begin
        if (btn_in != btn_prev) begin
            // La señal cambió, reinicia el contador
            count    <= 0;
            btn_prev <= btn_in;
        end
        else if (count < COUNT_MAX) begin
            // Sigue contando...
            count <= count + 1;
        end
        else begin
            // Se mantuvo estable suficiente tiempo → aceptar
            btn_out <= btn_prev;
        end
    end

endmodule
```

## ¿Cómo funciona?

1. Cada vez que la señal **cambia**, se **reinicia** el contador.
2. Si la señal se mantiene **estable** durante `COUNT_MAX` ciclos de reloj → se acepta como válida.
3. Si sigue rebotando, el contador nunca llega al máximo.

## Cálculo del COUNT_MAX
```
COUNT_MAX = tiempo_estable / periodo_reloj
COUNT_MAX = 20ms / 20ns (50MHz) = 1,000,000